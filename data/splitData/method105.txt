/**Adds a new process to the end of the queue.
*
* @param p process to add to the end of this queue
* @throws NullPointerException if the process to add is null
* @throws IllegalArgumentException if the process is already in another queue
*
* @return true always
* @see java.util.Queue#offer(java.lang.Object)
*/
@Override
public boolean offer(Process p) {
assert wellFormed() : "invariant failed at start of offer";
if(p == null) throw new NullPointerException("Can't put null in list");
if(p.next != null || p.prev != null) throw new IllegalArgumentException("Item already in queue");

p.next = dummy;
p.prev = dummy.prev;
dummy.prev = p;
p.prev.next = p;
version++;
manyItems++;
assert wellFormed() : "invariant failed at end of offer";
return true;
}